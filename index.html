<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SplitSmart</title>
    <link rel="stylesheet" href="css sheets/loginstyle.css">
</head>
<body>
    <header>
      
        <h1 class="title">SplitSmart</h1>
    </header>
    
    <div class="login-center">
        <h1>Registration</h1>
        <div class="password-requirements">
            <p>Username: 5 characters, 1 number</p>
            <p>Password Requirements: Minimum 8 characters, at least 1 uppercase letter, at least 1 lowercase letter, 
                at least 1 number, at least 1 special character</p>
            
        </div>
        <form>
            <label  class="label-form" for="regUsername">Username:</label>
            <input type="text" id="regUsername" placeholder="Username" required><br>
            
            <label class="label-form" for="regPassword">Password:</label>
            <input type="password" id="regPassword" placeholder="Password" required><br>
            
            <button class="btn" type="button" onclick="register()">Register</button>
        </form>
        
        <h1>Login</h1>
        <form>
            <label class="label-form" for="loginUsername">Username:</label>
            <input type="text" id="loginUsername" placeholder="Username" required><br>
            
            <label class="label-form" for="loginPassword">Password:</label>
            <input type="password" id="loginPassword"  placeholder="Password" required><br>
            
            <button class="btn" type="button" onclick="login()">Login</button>
        </form>
        <div id="message"></div>
    </div>


    <footer>Group: Shahd Mustafa, Mike Nasser, Nathaniel Leonardo, Hassan Radwan, Hussen Al-Jubury</footer>

    <script>
        function register() {
            // Get the values from the registration form
            var regUsername = document.getElementById("regUsername").value;
            var regPassword = document.getElementById("regPassword").value;
            
            // Check username and password requirements
            if (!isUsernameValid(regUsername) || !isPasswordValid(regPassword)) {
                document.getElementById("message").innerHTML = "Invalid username or password. Please try again.";
                return;
            }
            
            // Store the credentials in local storage
            localStorage.setItem("username", regUsername);
            localStorage.setItem("password", regPassword);
            
            // Show registration success message (you can redirect to the login page here)
            document.getElementById("message").innerHTML = "Registration successful! You can now login.";
        }

        function isUsernameValid(username) {
            // Minimum 5 characters, 1 letter, and 1 number
            var usernameRegex = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{5,}$/;
            return usernameRegex.test(username);
        }

        function isPasswordValid(password) {
            // Minimum 8 characters, 1 uppercase letter, 1 lowercase letter, 1 number, and 1 special character
            var passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
            return passwordRegex.test(password);
        }

        function login() {
            // Get the values from the login form
            var loginUsername = document.getElementById("loginUsername").value;
            var loginPassword = document.getElementById("loginPassword").value;
            
            // No validation needed for login, proceed with login
            // Retrieve the stored credentials from local storage
            var storedUsername = localStorage.getItem("username");
            var storedPassword = localStorage.getItem("password");
            
            // Check if the entered credentials match the stored ones
            if (loginUsername === storedUsername && loginPassword === storedPassword) {
                // Successful login
                document.getElementById("message").innerHTML = "Login successful! Redirecting to the dashboard...";
                // Redirect to the dashboard or another page
                window.location.href = "dashboard.html";
            } else {
                // Failed login
                document.getElementById("message").innerHTML = "Invalid username or password. Please try again.";
            }
        }
    </script>
</body>


</html>
